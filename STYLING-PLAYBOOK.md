# Styling Playbook

> Auto-generated by drift DNA analysis. Last updated: 2026-02-03T21:06:04.726Z

## Quick Reference

| Concern               | Our Approach          | Confidence |
| --------------------- | --------------------- | ---------- |
| Variant Handling      | Not established       | 0%         |
| Responsive Approach   | CSS Media Queries     | 100%       |
| State Styling         | CSS Pseudo Classes    | 100%       |
| Theming               | CSS Variables         | 60%        |
| Spacing Philosophy    | Hardcoded             | 100%       |
| Animation Approach    | CSS Animations        | 50%        |
| API Response Format   | Success/Data Envelope | 88%        |
| Error Response Format | Generic Try-Catch     | 72%        |
| Logging Format        | Logger with Levels    | 67%        |
| Configuration Pattern | Settings/Config Class | 79%        |

## Health Score: 73/100

---

## Variant Handling

_No dominant pattern established_

---

## Responsive Approach

**Our Pattern**: CSS Media Queries

@media queries

```tsx
@media (max-width: 768px) {
```

**Exemplar Files**:

- `src/renderer/components/CssThemeSettings/presets.ts`

---

## State Styling

**Our Pattern**: CSS Pseudo Classes

:hover, :focus

```tsx
.layout-sider-header svg:hover {
```

**Exemplar Files**:

- `src/renderer/components/CssThemeSettings/presets.ts`

---

## Theming

**Our Pattern**: CSS Variables

var(--\*)

```tsx
  --border-special: var(--bg-3);
```

**Exemplar Files**:

- `src/renderer/components/CssThemeSettings/presets.ts`
- `src/renderer/hooks/useInputFocusRing.ts`
- `src/renderer/theme/colors.ts`

**Avoid**:

- Theme Context
- Data Theme

---

## Spacing Philosophy

**Our Pattern**: Hardcoded

padding: 16px

```tsx
            body { font-family: system-ui, sans-serif; padding: 20px; }
```

**Exemplar Files**:

- `src/process/services/conversionService.ts`
- `src/renderer/components/CssThemeSettings/presets.ts`
- `src/renderer/pages/conversation/preview/components/renderers/htmlInspectScript.ts`

---

## Animation Approach

**Our Pattern**: CSS Animations

Using CSS @keyframes

```tsx
@keyframes hk-float {
```

**Exemplar Files**:

- `src/renderer/components/CssThemeSettings/presets.ts`
- `src/webserver/routes/authRoutes.ts`

**Avoid**:

- CSS Transitions

---

## API Response Format

**Our Pattern**: Success/Data Envelope

Response with success boolean and data field: { success: true, data: ... }

```tsx
res.status(401).json({ success: false, error: 'Authentication required' });
```

**Exemplar Files**:

- `src/webserver/auth/middleware/DataScopeMiddleware.ts`
- `src/webserver/auth/middleware/RoleMiddleware.ts`
- `src/webserver/routes/adminRoutes.ts`

**Avoid**:

- Error/Message Envelope
- Direct Data Return

---

## Error Response Format

**Our Pattern**: Generic Try-Catch

Uses generic try-catch with error message return

```tsx
    } catch (error) {
```

**Exemplar Files**:

- `src/process/bridge/authBridge.ts`
- `src/process/bridge/fileWatchBridge.ts`
- `src/process/bridge/fsBridge.ts`

**Avoid**:

- Error Envelope Response
- Custom Error Classes

---

## Logging Format

**Our Pattern**: Logger with Levels

Uses logger instance with level methods (info, error, debug, etc.)

```tsx
console.warn('JSON parsing error:', e);
```

**Exemplar Files**:

- `src/adapter/browser.ts`
- `src/adapter/main.ts`
- `src/agent/acp/AcpAdapter.ts`

**Avoid**:

- F-String/Template Logging
- Structured JSON Logging
- Print Debugging

---

## Configuration Pattern

**Our Pattern**: Settings/Config Class

Uses a dedicated settings or config class for configuration

```tsx
this.child = spawn(config.command, config.args, config.options);
```

**Exemplar Files**:

- `src/agent/acp/AcpConnection.ts`
- `src/agent/acp/AcpDetector.ts`
- `src/agent/acp/index.ts`

**Avoid**:

- Direct Environment Variables
- Config File (YAML/JSON)
- Dotenv Loading

---

## Mutations

Files deviating from established patterns:

- **src/webserver/directoryApi.ts:271** - direct-return (expected: success-data-envelope)
- **src/agent/acp/utils.ts:24** - config-file-yaml-json (expected: settings-class)
- **src/agent/codex/connection/CodexConnection.ts:24** - env-variables-direct (expected: settings-class)
- **src/agent/gemini/cli/config.ts:79** - env-variables-direct (expected: settings-class)
- **src/agent/gemini/cli/config.ts:79** - env-variables-direct (expected: settings-class)
- **src/agent/gemini/cli/config.ts:83** - env-variables-direct (expected: settings-class)
- **src/agent/gemini/cli/config.ts:120** - env-variables-direct (expected: settings-class)
- **src/agent/gemini/cli/extension.ts:74** - config-file-yaml-json (expected: settings-class)
- **src/agent/gemini/cli/settings.ts:17** - config-file-yaml-json (expected: settings-class)
- **src/agent/gemini/cli/settings.ts:34** - config-file-yaml-json (expected: settings-class)
- ... and 29 more
